buildscript {
    dependencies {
        classpath group: 'com.iptech.gradle', name: 'iptech-unity-plugin'
    }
}

apply plugin: 'com.iptech.gradle.unity-plugin'

unity {
    unityCmdPath = file('/Applications/Unity/HUB/Editor/2018.4.17f1/Unity.app/Contents/MacOS/Unity')
    buildNumber = '0001'
    buildTypes {
        DebugAndroid {
            platform = 'Android'
            steps {
                importProject()
                runEditModeTests()
                runPlayModeTests()
                execUnityMethod('BuildScript.HelloWorld') {
                    outputs.dir('build') // this will give this task incremental support.. normally you would put your outputs here.
                    doLast {
                        println 'example of extending the task'
                    }
                }
                execUnityMethod('BuildScript.WithArguments') {
                    arguments = ['-Hello', 'World']
                    outputs.dir('build')
                }
            }
        }
    }
}