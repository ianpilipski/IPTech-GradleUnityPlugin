buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath group: 'com.iptech.gradle', name: 'iptech-unity-plugin', version:'0.1.0'
    }
}

apply plugin: 'com.iptech.gradle.unity-plugin'


unity {
    unityProductName 'ExampleGame'
    unityCmdPath '/Applications/Unity/HUB/Editor/2018.4.17f1/Unity.app/Contents/MacOS/Unity'
    buildNumber = '0001'
    buildTypes {
        DebugAndroid {
            platform 'Android'
            steps {
                importProject
                runEditModeTests
                runPlayModeTests
                execUnityMethod('BuildScript.HelloWorld') { Task t ->
                    t.outputs.dir('build') // this will give this task incremental support.. normally you would put your outputs here.
                    t.doLast {
                        println 'example of extending the task'
                    }
                }
                execUnityMethod('BuildScript.WithArguments', '-Hello', 'World') {
                    outputs.dir('build')
                }
            }
        }
    }
}